{% extends "layout.html" %}

{% block title %}
<div class="header-content" data-0="height:100px" data-150="height:0px">
    <div class="top-header">
        <div class="">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-12">
                        <h1 data-0="margin-top:25px;font-size:3em;" data-150="margin-top:-55px;font-size:2em;">
                          OpenFX plugins
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block subtitle %}
<div class="bottom-header">
    <div class="navbar navbar-default">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse-filter">
                <span><i class="fa fa-filter" style="padding-right:7px;"></i>Filter plugins</span>
            </button>
        </div>
        <div class="navbar-collapse collapse navbar-responsive-collapse-filter">
            <form class="navbar-form">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-2">
                            <div class='filter-title'><span>Display : </span>
                                <div class="toggler-group">
                                    <span class="toggler active" data-toggle="grid">
                                        <i class="fa fa-th-large"></i>
                                    </span>
                                    <span class="toggler" data-toggle="list">
                                        <i class="fa fa-th-list"></i>
                                    </span>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-2 filter-item order-catag">
                            <div class="radio radio-primary">
                                <label class="ascendant">
                                    <i class="fa fa-sort-alpha-asc"></i>Ascending
                                </label>
                            </div>
                        </div>


                        <div class="col-md-4 pull-right">
                            <div id="filter-page">
                                <p class="pager-size">
                                    Plugins per page:
                                    <select name="size" class="" id="pageSize">
                                        <option value="10" selected>10</option>
                                        <option value="20">20</option>
                                        <option value="30">30</option>
                                        <option value="40">40</option>
                                    </select>
                                    <input id="totalPlugins" type="hidden" name="totalPlugins" value="{{ dico.totalPlugins }}">
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}


{% block content %}
<div class="main-content" id="plugins">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div id="filter-page">
                    <ul class="pagination pagination-sm pager-check">
                        <li id="previous"><a href="">«</a></li>
                        <li id="next"><a href="">»</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <ul class="surveys grid">
                {% for plugin in dico.plugins %}
                    <li class="col-md-3">
                        <a href="/plugin/{{plugin.rawIdentifier}}">
                        <div class="panel panel-primary">
                                <div class="plugins-titles">
                                    {% if plugin.sampleImagesPath|length != 0 %}
                                        {% set image = plugin.sampleImagesPath[0] %}
                                        {% set imagePath = "/plugin/" ~ plugin.pluginId ~ "/image/" ~ image %}
                                        {% set class = "custom" %}
                                    {% else %}
                                        {% set imagePath = url_for('static', filename='images/logoPad.png') %}
                                        {% set class = "" %}
                                    {% endif %}
                                    <img src="{{ imagePath }}" alt="" class="img-responsive plugin-thumbnail {{ class }}" />
                                    <h3 class="panel-title">
                                        {{plugin.label}}
                                    </h3>
                                </div>
                            <div class="plugins-infos">
                                <p>
                                    {% if "OfxPropPluginDescription" in plugin.properties %}
                                        {{plugin.properties.OfxPropPluginDescription.value}}
                                    {% endif %}
                                </p>
                            </div>
                        </div>
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

{% endblock %}
